(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59e58894"],{"159b":function(e,t,n){var r=n("da84"),a=n("fdbc"),i=n("17c2"),o=n("9112");for(var s in a){var c=r[s],l=c&&c.prototype;if(l&&l.forEach!==i)try{o(l,"forEach",i)}catch(u){l.forEach=i}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,a=n("a640"),i=n("ae40"),o=a("forEach"),s=i("forEach");e.exports=o&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},2532:function(e,t,n){"use strict";var r=n("23e7"),a=n("5a34"),i=n("1d80"),o=n("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(i(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},4160:function(e,t,n){"use strict";var r=n("23e7"),a=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"55c3":function(e,t,n){"use strict";n("99af"),n("4de4"),n("caad"),n("d81d"),n("d3b7"),n("2532"),n("ddb0"),n("96cf");var r=n("1da1"),a=n("5530"),i=n("2f62"),o=n("9c8c");t["a"]={provide:function(){return{pagination:this.pagination,defaultFilter:this.defaultFilter,filter:this.filter,fields:this.fields,displayFields:this.displayFields,where:this.where,entry:this.entry}},data:function(){var e=parseInt(this.$route.query.page)||1;return{fields:[],displayFields:[],appendColumns:[],items:[],itemsSelected:[],defaultFilter:{},filter:{},where:{},sort:"",defaultSort:void 0,pagination:{currentPage:e,perPage:12,total:0},loading:!1}},computed:Object(a["a"])({},Object(i["c"])({storeDisplayFields:"layout/display_fields"}),{tableFields:function(){var e=this.storeDisplayFields(this.entry);return e.length||(e=this.displayFields),this.fields.filter((function(t){return e.includes(t.key)})).concat(this.appendColumns)}}),created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in e.defaultFilter)void 0!==e.$route.query[n]&&(r=e.$route.query[n],isNaN(r)||"oa_id"==n||(r=+r),e.$set(e.filter,n,r));e.$service=new o["a"](e.entry),e.$store.dispatch("layout/getFields",e.entry).then((function(t){t.length&&(e.displayFields=t)}));case 3:case"end":return t.stop()}}),t)})))()},methods:{getData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Math.max(1,e.pagination.currentPage),r=e.pagination.perPage,a=(n-1)*r,i=e.sort||e.defaultSort,o=Object.assign({},e.defaultFilter,e.filter),o=Object.assign({},e.where,e.filter),e.loading=!0,t.next=9,e.$service.list({sort:i,filter:o,offset:a,limit:r});case 9:s=t.sent,e.loading=!1,s&&(e.items=s.entries||[],e.pagination.perPage=s.pageInfo.perPage,e.pagination.total=s.totalCount,e.$nextTick((function(){e.pagination.currentPage=s.pageInfo.currentPage})),"function"===typeof e.afterGotData&&e.afterGotData(e.items));case 12:case"end":return t.stop()}}),t)})))()},exportExcel:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n.modalShow=!0,a=n.sort||n.defaultSort,i=Object.assign({},n.defaultFilter,n.filter),o=n.storeDisplayFields(n.entry),o.length||(o=n.displayFields),n.loading=!0,n.$service.export({sort:a,type:e,time:t,filter:i,fields:o}).catch((function(){n.$bvToast.toast("Kh√¥ng th·ªÉ export d·ªØ li·ªáu",{variant:"danger",title:"L·ªói"})})),n.loading=!1;case 8:case"end":return r.stop()}}),r)})))()},onFilterChanged:function(){this.pagination.currentPage=1,this.getData()},onSortChanged:function(e){if(e.sortBy){var t=e.sortDesc?"-":"";this.sort=t+e.sortBy}else this.sort="";this.getData()},showConfirmDeleteModal:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$bvModal.msgBoxConfirm("Please confirm that you want to delete ".concat(e.itemsSelected.length," rows."),{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(t){e._deleteSelectedRows()})).catch((function(e){}));case 2:e.getData();case 3:case"end":return t.stop()}}),t)})))()},_rowSelected:function(e){this.itemsSelected=e},_deleteSelectedRows:function(){this.$service.deleteByIds(this.itemsSelected.map((function(e){return e.id})))}},beforeRouteUpdate:function(e,t,n){this.pagination.currentPage=parseInt(e.query.page)||1,n()},watch:{"pagination.currentPage":function(e){var t=this;e!=this.$route.query.page&&this.$router.push({path:this.$route.path,query:Object.assign({},this.$route.query,{page:e})}),this.$nextTick((function(){t.getData()}))}}}},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"7db0":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").find,i=n("44d2"),o=n("ae40"),s="find",c=!0,l=o(s);s in[]&&Array(1)[s]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!l},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)},ab13:function(e,t,n){var r=n("b622"),a=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(r){}}return!1}},ade3:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},af8a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page",[n("page-header",[e._v("üöö Orders")]),n("customer-menu"),n("action-bar",{on:{change:e.onFilterChanged}}),n("div",{staticClass:"mb-2"},[e.loading?n("span",[e._v("ƒêang t·∫£i...")]):n("span",[e._v("T·ªïng "+e._s(e.pagination.total.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")))])]),n("b-table",{staticClass:"bg-white shadow-sm",attrs:{"table-class":"mb-0",items:e.items,fields:e.tableFields,busy:e.loading,"show-empty":"",striped:"",hover:"",responsive:"",selectable:"","no-local-sorting":""},on:{"sort-changed":e.onSortChanged,"row-selected":e._rowSelected},scopedSlots:e._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center my-2"},[n("b-spinner",{staticClass:"align-middle",attrs:{small:"",variant:"warning",type:"grow"}}),n("b-spinner",{staticClass:"align-middle",attrs:{small:"",variant:"success",type:"grow"}}),n("b-spinner",{staticClass:"align-middle",attrs:{small:"",variant:"info",type:"grow"}})],1)]},proxy:!0},{key:"cell(delivery_method)",fn:function(t){return[0===t.value?n("b-badge",{attrs:{variant:"dark"}},[e._v("Undefined")]):e._e(),1===t.value?n("b-badge",{attrs:{variant:"success"}},[e._v("Giao h√†ng ti√™u chu·∫©n")]):e._e()]}},{key:"cell(payment_method)",fn:function(t){return[0===t.value?n("b-badge",{attrs:{variant:"dark"}},[e._v("Undefined")]):e._e(),1===t.value?n("b-badge",{attrs:{variant:"success"}},[e._v("Ti·ªÅn m·∫∑t")]):e._e()]}},{key:"cell(status)",fn:function(t){return[0===t.value?n("b-badge",{attrs:{variant:"dark"}},[e._v("Undefined")]):e._e(),1===t.value?n("b-badge",{attrs:{variant:"warning"}},[e._v("Ch·ªù duy·ªát")]):e._e(),2===t.value?n("b-badge",{attrs:{variant:"info"}},[e._v("ƒêang giao")]):e._e(),3===t.value?n("b-badge",{attrs:{variant:"success"}},[e._v("ƒê√£ nh·∫≠n")]):e._e(),4===t.value?n("b-badge",{attrs:{variant:"danger"}},[e._v("ƒê√£ h·ªßy")]):e._e()]}},{key:"cell(delivery_info)",fn:function(t){return[n("div",{staticStyle:{width:"250px"},domProps:{innerHTML:e._s(e.getDeliveryInfo(t.value))}})]}},{key:"cell(order_content)",fn:function(t){return[n("div",{staticStyle:{width:"500px"},domProps:{innerHTML:e._s(e.getOrderContent(t.value))}})]}},{key:"cell(options)",fn:function(t){return[n("b-button-group",[n("b-button",{staticClass:"mdi mdi-circle-edit-outline",attrs:{id:"OrderEdit",to:{name:"OrderEdit",params:{id:t.item.id}},size:"sm",variant:"warning"}}),n("b-tooltip",{attrs:{target:"OrderEdit",triggers:"hover"}},[e._v("Edit")])],1),n("b-button-group",[n("b-button",{staticClass:"mr-1 mdi mdi-trash-can",attrs:{id:"Delete",size:"sm",variant:"danger"},on:{click:function(n){return e.deleteItem(t.item)}}}),n("b-tooltip",{attrs:{target:"Delete",triggers:"hover"}},[e._v("Delete")])],1)]}}])}),n("pagination",{staticClass:"mt-3"})],1)},a=[],i=(n("99af"),n("7db0"),n("4160"),n("b0c0"),n("159b"),n("96cf"),n("1da1")),o=n("5530"),s=n("55c3"),c=[{key:"id",readonly:!0},{label:"Name",key:"name",sortable:!0},{label:"User",key:"user_id",sortable:!0},{label:"M√£ ƒë∆°n h√†ng",key:"order_code",sortable:!0},{label:"M√£ Gi·∫£m gi√°",key:"promo_code",sortable:!0},{label:"Gi·∫£m gi√°",key:"discount",sortable:!0},{label:"Ph√≠ ship",key:"shipping_fee",sortable:!0},{label:"T·ªïng hoa h·ªìng",key:"bonus_fee",sortable:!0},{label:"T·ªïng ti·ªÅn",key:"grand_total",sortable:!0},{label:"H√¨nh th·ª©c giao h√†ng",key:"delivery_method",type:"select",options:[{value:0,text:"Undefined"},{value:1,text:"Giao h√†ng ti√™u chu·∫©n"}]},{label:"Thanh to√°n",key:"payment_method",type:"select",options:[{value:0,text:"Undefined"},{value:1,text:"Ti·ªÅn m·∫∑t"}]},{label:"N·ªôi dung ƒë∆°n h√†ng",key:"order_content",sortable:!0},{label:"Th√¥ng tin ng∆∞·ªùi mua",key:"delivery_info",sortable:!0},{label:"Tr·∫°ng th√°i ƒë∆°n h√†ng",key:"status",type:"select",options:[{value:0,text:"Undefined"},{value:1,text:"Ch·ªù duy·ªát"},{value:2,text:"ƒêang giao"},{value:3,text:"ƒê√£ nh·∫≠n"},{value:4,text:"ƒê√£ h·ªßy"}]},{label:"Ng√†y t·∫°o",key:"created_at",readonly:!0},{label:"Ng∆∞·ªùi t·∫°o",key:"created_by",readonly:!0},{label:"Ng√†y s·ª≠a",key:"modified_at",readonly:!0,sortable:!0},{label:"Ng∆∞·ªùi s·ª≠a",key:"modified_by",readonly:!0}],l=n("2f62"),u=(n("a2b6"),n("bc3a"),{name:"OrderList",mixins:[s["a"]],data:function(){return{showButton:!1,value:0,showDetailId:null,importRes:null,time:null,fields:c,displayFields:["id","name","user_id","discount","promo_code","shipping_fee","bonus_fee","grand_total","delivery_method","payment_method","delivery_info","order_content","modified_at"],appendColumns:["options"],defaultFilter:{name:"",discount:"",promo_code:"",grand_total:"",shipping_fee:"",bonus_fee:"",delivery_method:"",payment_method:"",order_code:""},file:"",defaultSort:"-id",entry:"crm/order"}},computed:Object(o["a"])({},Object(l["d"])({provinces:function(e){return e.crm.provinces}})),mounted:function(){this.getData()},methods:{getDeliveryInfo:function(e){var t=JSON.parse(e,!0);return"<p>\n                    <strong>Full name:</strong>\n                    ".concat(t.name||"No name","\n                </p>\n                <p>\n                    <strong>Phone:</strong> ").concat(t.phone||"No phone","\n                </p>\n                <p>\n                    <strong>Email:</strong> ").concat(t.email||"No email","\n                </p>\n                <p>\n                    <strong>Address:</strong>\n                    ").concat(t.address||"No address","\n                </p>")},getOrderContent:function(e){var t=JSON.parse(e,!0),n="";return t.forEach((function(e,t){n+='<h6>\n                    <u style="color:red">S·∫£n ph·∫©m '.concat(t+1,"</u>\n                </h6>\n                <p>\n                    <strong>T√™n s·∫£n ph·∫©m:</strong>\n                    ").concat(e.name||"No name","\n                </p>\n                <p>\n                    <strong>S·ªë l∆∞·ª£ng:</strong> ").concat(e.quantity||"No quantity","\n                </p>\n                <p>\n                    <strong>G√≠a ti·ªÅn:</strong> ").concat(e.price||"No price","\n                </p>\n                <p>\n                    <strong>Hoa h·ªìng:</strong> ").concat(e.commission||"No commission","\n                </p>")})),n},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$confirm("Delete this order. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.deleted=1,n.next=3,t.$service.delete(e.id);case 3:r=n.sent,r&&t.$message.success("‚úî Deleted"),t.getData();case 6:case"end":return n.stop()}}),n)}))));case 1:case"end":return n.stop()}}),n)})))()},provinceName:function(e){var t=this.provinces.find((function(t){return t.code==e}));return t?t.name:"N/A"}}}),d=u,f=n("2877"),g=Object(f["a"])(d,r,a,!1,null,null,null);t["default"]=g.exports},b64b:function(e,t,n){var r=n("23e7"),a=n("7b0b"),i=n("df75"),o=n("d039"),s=o((function(){i(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(e){return i(a(e))}})},dbb4:function(e,t,n){var r=n("23e7"),a=n("83ab"),i=n("56ef"),o=n("fc6a"),s=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),a=s.f,l=i(r),u={},d=0;while(l.length>d)n=a(r,t=l[d++]),void 0!==n&&c(u,t,n);return u}})},e439:function(e,t,n){var r=n("23e7"),a=n("d039"),i=n("fc6a"),o=n("06cf").f,s=n("83ab"),c=a((function(){o(1)})),l=!s||c;r({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(i(e),t)}})}}]);