(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f68c33b"],{"159b":function(t,e,r){var n=r("da84"),a=r("fdbc"),i=r("17c2"),s=r("9112");for(var o in a){var c=n[o],u=c&&c.prototype;if(u&&u.forEach!==i)try{s(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,a=r("a640"),i=r("ae40"),s=a("forEach"),o=i("forEach");t.exports=s&&o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},2532:function(t,e,r){"use strict";var n=r("23e7"),a=r("5a34"),i=r("1d80"),s=r("ab13");n({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(i(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},4160:function(t,e,r){"use strict";var n=r("23e7"),a=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},5530:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");var n=r("ade3");function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},"55c3":function(t,e,r){"use strict";r("99af"),r("4de4"),r("caad"),r("d81d"),r("d3b7"),r("2532"),r("ddb0"),r("96cf");var n=r("1da1"),a=r("5530"),i=r("2f62"),s=r("9c8c");e["a"]={provide:function(){return{pagination:this.pagination,defaultFilter:this.defaultFilter,filter:this.filter,fields:this.fields,displayFields:this.displayFields,where:this.where,entry:this.entry}},data:function(){var t=parseInt(this.$route.query.page)||1;return{fields:[],displayFields:[],appendColumns:[],items:[],itemsSelected:[],defaultFilter:{},filter:{},where:{},sort:"",defaultSort:void 0,pagination:{currentPage:t,perPage:12,total:0},loading:!1}},computed:Object(a["a"])({},Object(i["c"])({storeDisplayFields:"layout/display_fields"}),{tableFields:function(){var t=this.storeDisplayFields(this.entry);return t.length||(t=this.displayFields),this.fields.filter((function(e){return t.includes(e.key)})).concat(this.appendColumns)}}),created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r in t.defaultFilter)void 0!==t.$route.query[r]&&(n=t.$route.query[r],isNaN(n)||"oa_id"==r||(n=+n),t.$set(t.filter,r,n));t.$service=new s["a"](t.entry),t.$store.dispatch("layout/getFields",t.entry).then((function(e){e.length&&(t.displayFields=e)}));case 3:case"end":return e.stop()}}),e)})))()},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r,n,a,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Math.max(1,t.pagination.currentPage),n=t.pagination.perPage,a=(r-1)*n,i=t.sort||t.defaultSort,s=Object.assign({},t.defaultFilter,t.filter),s=Object.assign({},t.where,t.filter),t.loading=!0,e.next=9,t.$service.list({sort:i,filter:s,offset:a,limit:n});case 9:o=e.sent,t.loading=!1,o&&(t.items=o.entries||[],t.pagination.perPage=o.pageInfo.perPage,t.pagination.total=o.totalCount,t.$nextTick((function(){t.pagination.currentPage=o.pageInfo.currentPage})),"function"===typeof t.afterGotData&&t.afterGotData(t.items));case 12:case"end":return e.stop()}}),e)})))()},exportExcel:function(t,e){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function n(){var a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r.modalShow=!0,a=r.sort||r.defaultSort,i=Object.assign({},r.defaultFilter,r.filter),s=r.storeDisplayFields(r.entry),s.length||(s=r.displayFields),r.loading=!0,r.$service.export({sort:a,type:t,time:e,filter:i,fields:s}).catch((function(){r.$bvToast.toast("KhÃ´ng thá»ƒ export dá»¯ liá»‡u",{variant:"danger",title:"Lá»—i"})})),r.loading=!1;case 8:case"end":return n.stop()}}),n)})))()},onFilterChanged:function(){this.pagination.currentPage=1,this.getData()},onSortChanged:function(t){if(t.sortBy){var e=t.sortDesc?"-":"";this.sort=e+t.sortBy}else this.sort="";this.getData()},showConfirmDeleteModal:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$bvModal.msgBoxConfirm("Please confirm that you want to delete ".concat(t.itemsSelected.length," rows."),{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){t._deleteSelectedRows()})).catch((function(t){}));case 2:t.getData();case 3:case"end":return e.stop()}}),e)})))()},_rowSelected:function(t){this.itemsSelected=t},_deleteSelectedRows:function(){this.$service.deleteByIds(this.itemsSelected.map((function(t){return t.id})))}},beforeRouteUpdate:function(t,e,r){this.pagination.currentPage=parseInt(t.query.page)||1,r()},watch:{"pagination.currentPage":function(t){var e=this;t!=this.$route.query.page&&this.$router.push({path:this.$route.path,query:Object.assign({},this.$route.query,{page:t})}),this.$nextTick((function(){e.getData()}))}}}},"5a34":function(t,e,r){var n=r("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"7db0":function(t,e,r){"use strict";var n=r("23e7"),a=r("b727").find,i=r("44d2"),s=r("ae40"),o="find",c=!0,u=s(o);o in[]&&Array(1)[o]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!u},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i(o)},8537:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("page",[r("page-header",[t._v("ðŸ…±ï¸ Brands")]),r("action-bar",{on:{change:t.onFilterChanged}},[r("b-button",{staticClass:" mdi mdi-plus mb-3 float-right",attrs:{slot:"header-right",to:{name:"BrandAdd"},variant:"success",size:"sm"},slot:"header-right"},[t._v("Add Brand")])],1),r("b-table",{staticClass:"bg-white shadow-sm",attrs:{"table-class":"mb-0",items:t.items,fields:t.tableFields,busy:t.loading,bordered:"","show-empty":"",striped:"",hover:"",responsive:"",selectable:"","no-local-sorting":""},on:{"sort-changed":t.onSortChanged,"row-selected":t._rowSelected},scopedSlots:t._u([{key:"table-busy",fn:function(){return[r("div",{staticClass:"text-center my-2"},[r("b-spinner",{staticClass:"align-middle",attrs:{small:"",variant:"warning",type:"grow"}}),r("b-spinner",{staticClass:"align-middle",attrs:{small:"",variant:"success",type:"grow"}}),r("b-spinner",{staticClass:"align-middle",attrs:{small:"",variant:"info",type:"grow"}})],1)]},proxy:!0},{key:"cell(status)",fn:function(e){return[1===e.value?r("b-badge",{attrs:{variant:"success"}},[t._v("On")]):2===e.value?r("b-badge",{attrs:{variant:"danger"}},[t._v("Off")]):r("b-badge",{attrs:{variant:"dark"}},[t._v("Undefined")])]}},{key:"cell(description)",fn:function(e){return[r("p",[t._v(t._s(e.value||"N/A"))])]}},{key:"cell(distributor)",fn:function(e){return[r("p",[t._v(t._s(e.value||"N/A"))])]}},{key:"cell(country)",fn:function(e){return[r("p",[t._v(t._s(t.getCountry(e.value)||"N/A"))])]}},{key:"cell(logo)",fn:function(t){return[r("div",{staticClass:"text-center"},[r("b-img",{attrs:{thumbnail:"",src:t.value||"https://via.placeholder.com/210x140?text=Thumbnail Article",width:"100"}})],1)]}},{key:"cell(options)",fn:function(e){return[r("b-button",{staticClass:"mr-1 mdi mdi-thumb-up-outline",attrs:{id:"Active",size:"sm",variant:"success"},on:{click:function(r){return t.onActive(e.item)}}}),r("b-tooltip",{attrs:{target:"Active",triggers:"hover"}},[t._v("Active")]),r("b-button",{staticClass:"mr-1 mdi mdi-thumb-down-outline",attrs:{id:"InActive",size:"sm",variant:"danger"},on:{click:function(r){return t.onInactive(e.item)}}}),r("b-tooltip",{attrs:{target:"InActive",triggers:"hover"}},[t._v("InActive")]),r("b-button-group",[r("b-button",{staticClass:"mdi mdi-circle-edit-outline",attrs:{id:"BrandEdit",to:{name:"BrandEdit",params:{id:e.item.id}},size:"sm",variant:"warning"}}),r("b-tooltip",{attrs:{target:"BrandEdit",triggers:"hover"}},[t._v("Edit")])],1)]}}])}),r("pagination",{staticClass:"mt-3"})],1)},a=[],i=(r("7db0"),r("96cf"),r("1da1")),s=r("5530"),o=r("55c3"),c=r("a189"),u=r("2f62"),l=(r("a2b6"),r("bc3a"),{name:"BrandList",mixins:[o["a"]],data:function(){return{fields:c["a"],displayFields:["id","name","logo","description","distributor","country","status","modified_at"],appendColumns:["options"],defaultFilter:{name:"",distributor:"",country:void 0,status:void 0},file:"",defaultSort:"-id",entry:"crm/brand"}},computed:Object(s["a"])({},Object(u["d"])({countries:function(t){return t.crm.countries}})),mounted:function(){this.getData()},methods:{getCountry:function(t){var e=this.countries.find((function(e){return e.iso==t}));return e?e.country_name:"N/A"},onActive:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.status=1,r.next=3,e.$service.update(t.id,t);case 3:n=r.sent,n&&e.$message.success("âœ” Approved");case 5:case"end":return r.stop()}}),r)})))()},onInactive:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.status=2,r.next=3,e.$service.update(t.id,t);case 3:n=r.sent,n&&e.$message.warning("âŒ Rejected");case 5:case"end":return r.stop()}}),r)})))()}}}),d=l,f=r("2877"),p=Object(f["a"])(d,n,a,!1,null,null,null);e["default"]=p.exports},a189:function(t,e,r){"use strict";r("96cf");var n=r("1da1"),a=r("4360"),i=r("aca0");e["a"]=[{key:"id",readonly:!0},{label:"Logo",key:"logo",type:"image"},{label:"Brand Name",key:"name",sortable:!0},{label:"Desciption",key:"description"},{label:"NhÃ  phÃ¢n phá»‘i",key:"distributor"},{label:"Country",key:"country",type:"select",sortable:!0,options:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a["a"].state.crm.countries.length){t.next=3;break}return t.next=3,a["a"].dispatch("crm/getCountries");case 3:return t.abrupt("return",i["a"].geoToSelectCountry(a["a"].state.crm.countries));case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{label:"Slug",key:"slug",readonly:!0},{label:"Status",key:"status",type:"select",sortable:!0,options:[{value:0,text:"Undefined"},{value:1,text:"On"},{value:2,text:"Off"}]},{label:"Created Date",key:"created_at",sortable:!0,readonly:!0}]},ab13:function(t,e,r){var n=r("b622"),a=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[a]=!1,"/./"[t](e)}catch(n){}}return!1}},ade3:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))},b64b:function(t,e,r){var n=r("23e7"),a=r("7b0b"),i=r("df75"),s=r("d039"),o=s((function(){i(1)}));n({target:"Object",stat:!0,forced:o},{keys:function(t){return i(a(t))}})},dbb4:function(t,e,r){var n=r("23e7"),a=r("83ab"),i=r("56ef"),s=r("fc6a"),o=r("06cf"),c=r("8418");n({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,r,n=s(t),a=o.f,u=i(n),l={},d=0;while(u.length>d)r=a(n,e=u[d++]),void 0!==r&&c(l,e,r);return l}})},e439:function(t,e,r){var n=r("23e7"),a=r("d039"),i=r("fc6a"),s=r("06cf").f,o=r("83ab"),c=a((function(){s(1)})),u=!o||c;n({target:"Object",stat:!0,forced:u,sham:!o},{getOwnPropertyDescriptor:function(t,e){return s(i(t),e)}})}}]);