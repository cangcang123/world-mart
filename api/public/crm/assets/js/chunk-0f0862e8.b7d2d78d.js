(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f0862e8"],{7156:function(e,t,r){var a=r("861d"),n=r("d2bb");e.exports=function(e,t,r){var i,s;return n&&"function"==typeof(i=t.constructor)&&i!==r&&a(s=i.prototype)&&s!==r.prototype&&n(e,s),e}},"7db0":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").find,i=r("44d2"),s=r("ae40"),o="find",c=!0,u=s(o);o in[]&&Array(1)[o]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!u},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},"88f5":function(e,t,r){"use strict";r("4de4"),r("7db0"),r("d81d"),r("a9e3"),r("96cf");var a=r("1da1"),n=r("9c8c");t["a"]={props:{id:{type:[String,Number],required:!0}},data:function(){return{fields:[],displayFields:[],item:null,loading:!1}},computed:{editFields:function(){var e=this;return this.displayFields.map((function(t){return e.fields.find((function(e){return e.key===t}))})).filter((function(e){return e}))}},created:function(){this.$service=new n["a"](this.entry),this.displayFields.length||(this.displayFields=this.fields.map((function(e){return e.key})))},methods:{getData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$service.detail(e.id);case 3:r=t.sent,"function"===typeof e.afterGotData&&e.afterGotData(r),e.item=r,e.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,"function"!==typeof e.beforeSave){t.next=4;break}if(!1!==e.beforeSave()){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$service.update(e.id,e.item).catch((function(t){e.$bvToast.toast(t.response&&t.response.data&&t.response.data.message||t.message,{title:"Error",variant:"danger"})}));case 6:r=t.sent,"function"===typeof e.afterSave&&e.afterSave(r),r&&(e.item=r,e.$bvToast.toast("Item has been updated",{title:"Success",variant:"success"})),e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()},requestDelete:function(){var e=this;this.$bvModal.msgBoxConfirm("Please confirm that you want to delete this item.",{title:"Please Confirm",okVariant:"danger",okTitle:"YES"}).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,e.$service.delete(e.id);case 3:a=t.sent,a?(e.$router.back(),e.$message({message:"This item deleted successful",type:"warning"})):e.$message.error("⚠️☠️⛔ Oops!");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e.message)}))}}}},a623:function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").every,i=r("a640"),s=r("ae40"),o=i("every"),c=s("every");a({target:"Array",proto:!0,forced:!o||!c},{every:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},a9e3:function(e,t,r){"use strict";var a=r("83ab"),n=r("da84"),i=r("94ca"),s=r("6eeb"),o=r("5135"),c=r("c6b6"),u=r("7156"),l=r("c04e"),d=r("d039"),f=r("7c73"),p=r("241c").f,m=r("06cf").f,b=r("9bf2").f,y=r("58a8").trim,v="Number",h=n[v],k=h.prototype,g=c(f(k))==v,w=function(e){var t,r,a,n,i,s,o,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=y(u),t=u.charCodeAt(0),43===t||45===t){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+u}for(i=u.slice(2),s=i.length,o=0;o<s;o++)if(c=i.charCodeAt(o),c<48||c>n)return NaN;return parseInt(i,a)}return+u};if(i(v,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var _,x=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof x&&(g?d((function(){k.valueOf.call(r)})):c(r)!=v)?u(new h(w(t)),r,x):w(t)},I=a?p(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;I.length>N;N++)o(h,_=I[N])&&!o(x,_)&&b(x,_,m(h,_));x.prototype=k,k.constructor=x,s(n,v,x)}},bc0a:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-add"},[r("h4",{staticClass:"header py-3"},[e._v("Edit Profile Information")]),e.item?r("div",{staticClass:"bg-white p-3 shadow-sm"},[r("b-form",{staticClass:"submit-form"},[e._l(e.editFields,(function(t,a){return[r("input-field",{key:a,attrs:{field:t},model:{value:e.item[t.key],callback:function(r){e.$set(e.item,t.key,r)},expression:"item[field.key]"}},["district_code"===t.key?r("b-form-select",{attrs:{disabled:"",options:e.districts},model:{value:e.item.district_code,callback:function(t){e.$set(e.item,"district_code",t)},expression:"item.district_code"}}):e._e(),"ward_code"===t.key?r("b-form-select",{attrs:{disabled:"",options:e.wards},model:{value:e.item.ward_code,callback:function(t){e.$set(e.item,"ward_code",t)},expression:"item.ward_code"}}):e._e()],1)]}))],2),r("b-form-group",{staticClass:"submit-form"},[r("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){return t.preventDefault(),e.save(t)}}},[e._v("Save")]),r("b-button",{staticClass:"mdi mdi-arrow-left",on:{click:function(t){return e.$router.back()}}},[e._v("Back")])],1)],1):e._e()])},n=[],i=(r("a623"),r("7db0"),r("96cf"),r("1da1")),s=(r("d81d"),r("b0c0"),r("aca0")),o=r("4360"),c=r("c1df"),u=r.n(c),l=r("9c8c"),d=(new l["a"]("crm/user-profile"),[{key:"id",readonly:!0},{label:"Zalo OA",key:"oa_id",type:"select",options:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o["a"].state.crm.officialAccounts.length){e.next=3;break}return e.next=3,o["a"].dispatch("crm/getListOA");case 3:return e.abrupt("return",o["a"].state.crm.officialAccounts.map((function(e){return{text:e.name,value:e.oa_id}})));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{label:"Zalo ID App",key:"zalo_id_by_app"},{label:"Zalo ID",key:"zalo_id_by_oa"},{label:"Zalo Name",key:"zalo_name"},{label:"Nhà phân phối",key:"distributor"},{label:"Điểm bán",key:"sale_point"},{label:"Loại điểm bán",key:"sale_point_type"},{label:"Full Name",key:"full_name",sortable:!0},{label:"Date of Birth",key:"dob",type:"date",onInputFormat:function(e){return e&&u()(e).format("YYYY-MM-DD")}},{label:"Gender",key:"gender",type:"select",options:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].state.crm.genders);case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{label:"Phone",key:"phone",readonly:!0},{label:"Email",key:"email"},{label:"Address",key:"address"},{label:"Province",key:"province",sortable:!0},{label:"Quận",key:"district"},{label:"Huyện",key:"ward"},{label:"Follow",key:"status_follow",type:"select",readonly:!0,options:[{value:0,text:"Undefined"},{value:1,text:"Follow"},{value:2,text:"Not Follow"},{value:3,text:"No Zalo"},{value:4,text:"Invalid Phone Number"}]},{label:"Status",key:"status",type:"select",options:[{value:0,text:"Undefined"},{value:1,text:"Active"},{value:2,text:"InActive"}],thClass:"text-center",tdClass:"text-center",thStyle:{width:"120px"}},{label:"Created At",key:"created_at",readonly:!0},{label:"Created By",key:"created_by",readonly:!0},{label:"Modified At",key:"modified_at",readonly:!0,sortable:!0},{label:"Modified By",key:"modified_by",readonly:!0}]),f=r("88f5"),p={name:"UserProfileEdit",mixins:[f["a"]],data:function(){return{fields:d,displayFields:["full_name","phone","dob","gender","email","address","status"],districts:[],wards:[],entry:"crm/user-profile"}},mounted:function(){this.getData()},methods:{afterGotData:function(e){}},watch:{"item.province_code":function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=8;break}return r.next=3,s["a"].getDistricts(e);case 3:a=r.sent,n=t.fields.find((function(e){return"district_code"===e.key})),n&&(t.districts=s["a"].geoToSelect(a)),r.next=9;break;case 8:t.districts=[];case 9:case"end":return r.stop()}}),r)})))()},"item.district_code":function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=8;break}return r.next=3,s["a"].getWards(e);case 3:a=r.sent,n=t.fields.find((function(e){return"district_code"===e.key})),n&&(t.wards=s["a"].geoToSelect(a)),r.next=9;break;case 8:t.wards=[];case 9:case"end":return r.stop()}}),r)})))()},districts:function(e){var t=this;this.item.district_code&&e.every((function(e){return e.value!==t.item.district_code}))&&(this.item.district_code="")},wards:function(e){var t=this;this.item.ward_code&&e.every((function(e){return e.value!==t.item.ward_code}))&&(this.item.ward_code="")}}},m=p,b=r("2877"),y=Object(b["a"])(m,a,n,!1,null,null,null);t["default"]=y.exports}}]);