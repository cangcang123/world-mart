(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e95a420c"],{"05ab":function(e,t,i){},3519:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("page",[i("page-header",{attrs:{header:"📦 Add Product"}}),e.item?i("page-body",{staticClass:"p-3"},[i("b-row",[i("b-col",{attrs:{lg:"6"}},[i("b-card",{attrs:{"bg-variant":"light","text-variant":"dark","header-bg-variant":"dark","header-text-variant":"white"}},[i("input-field",{attrs:{field:e.getField("name"),state:e.$v.item["name"]&&e.$v.item["name"].$dirty?!e.$v.item["name"].$error:null,error:e.fieldError(e.getField("name"))},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),i("input-field",{attrs:{field:e.getField("meta_title"),state:e.$v.item["meta_title"]&&e.$v.item["meta_title"].$dirty?!e.$v.item["meta_title"].$error:null,error:e.fieldError(e.getField("meta_title"))},model:{value:e.item.meta_title,callback:function(t){e.$set(e.item,"meta_title",t)},expression:"item.meta_title"}}),i("input-field",{attrs:{field:e.getField("meta_content"),state:e.$v.item["meta_content"]&&e.$v.item["meta_content"].$dirty?!e.$v.item["meta_content"].$error:null,error:e.fieldError(e.getField("meta_content"))}},[i("b-textarea",{attrs:{rows:"13"},model:{value:e.item.meta_content,callback:function(t){e.$set(e.item,"meta_content",t)},expression:"item.meta_content"}})],1),i("input-field",{attrs:{field:e.getField("sub_description"),state:e.$v.item["sub_description"]&&e.$v.item["sub_description"].$dirty?!e.$v.item["sub_description"].$error:null,error:e.fieldError(e.getField("sub_description"))}},[i("b-textarea",{attrs:{rows:"13"},model:{value:e.item.sub_description,callback:function(t){e.$set(e.item,"sub_description",t)},expression:"item.sub_description"}})],1),i("input-field",{attrs:{field:e.getField("description"),state:e.$v.item["description"]&&e.$v.item["description"].$dirty?!e.$v.item["description"].$error:null,error:e.fieldError(e.getField("description"))}},[i("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.item.description,callback:function(t){e.$set(e.item,"description",t)},expression:"item.description"}})],1),i("input-field",{attrs:{field:e.getField("usage"),state:e.$v.item["usage"]&&e.$v.item["usage"].$dirty?!e.$v.item["usage"].$error:null,error:e.fieldError(e.getField("usage"))}},[i("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.item.usage,callback:function(t){e.$set(e.item,"usage",t)},expression:"item.usage"}})],1),i("input-field",{attrs:{field:e.getField("question_answer"),state:e.$v.item["question_answer"]&&e.$v.item["question_answer"].$dirty?!e.$v.item["question_answer"].$error:null,error:e.fieldError(e.getField("question_answer"))}},[i("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.item.question_answer,callback:function(t){e.$set(e.item,"question_answer",t)},expression:"item.question_answer"}})],1)],1)],1),i("b-col",{attrs:{lg:"6"}},[i("b-card",{attrs:{"bg-variant":"light","text-variant":"dark","header-bg-variant":"dark","header-text-variant":"white"}},[i("input-field",{attrs:{field:e.getField("status")},model:{value:e.item.status,callback:function(t){e.$set(e.item,"status",t)},expression:"item.status"}}),i("input-field",{attrs:{field:e.getField("is_hot")},model:{value:e.item.is_hot,callback:function(t){e.$set(e.item,"is_hot",t)},expression:"item.is_hot"}}),i("input-field",{attrs:{field:e.getField("is_new")},model:{value:e.item.is_new,callback:function(t){e.$set(e.item,"is_new",t)},expression:"item.is_new"}}),i("input-field",{attrs:{field:e.getField("is_profit")},model:{value:e.item.is_profit,callback:function(t){e.$set(e.item,"is_profit",t)},expression:"item.is_profit"}}),i("input-field",{attrs:{field:e.getField("best_seller")},model:{value:e.item.best_seller,callback:function(t){e.$set(e.item,"best_seller",t)},expression:"item.best_seller"}}),i("input-field",{attrs:{field:e.getField("price"),state:e.$v.item["price"]&&e.$v.item["price"].$dirty?!e.$v.item["price"].$error:null,error:e.fieldError(e.getField("price"))},model:{value:e.item.price,callback:function(t){e.$set(e.item,"price",t)},expression:"item.price"}}),i("input-field",{attrs:{field:e.getField("quota"),state:e.$v.item["quota"]&&e.$v.item["quota"].$dirty?!e.$v.item["quota"].$error:null,error:e.fieldError(e.getField("quota"))},model:{value:e.item.quota,callback:function(t){e.$set(e.item,"quota",t)},expression:"item.quota"}}),i("input-field",{attrs:{field:e.getField("discount"),state:e.$v.item["discount"]&&e.$v.item["discount"].$dirty?!e.$v.item["discount"].$error:null,error:e.fieldError(e.getField("discount"))},model:{value:e.item.discount,callback:function(t){e.$set(e.item,"discount",t)},expression:"item.discount"}}),i("input-field",{attrs:{field:e.getField("bonus_rating"),state:e.$v.item["bonus_rating"]&&e.$v.item["bonus_rating"].$dirty?!e.$v.item["bonus_rating"].$error:null,error:e.fieldError(e.getField("bonus_rating"))},model:{value:e.item.bonus_rating,callback:function(t){e.$set(e.item,"bonus_rating",t)},expression:"item.bonus_rating"}}),i("input-field",{attrs:{field:e.getField("bonus_referral"),state:e.$v.item["bonus_referral"]&&e.$v.item["bonus_referral"].$dirty?!e.$v.item["bonus_referral"].$error:null,error:e.fieldError(e.getField("bonus_referral"))},model:{value:e.item.bonus_referral,callback:function(t){e.$set(e.item,"bonus_referral",t)},expression:"item.bonus_referral"}})],1),i("b-card",{attrs:{"bg-variant":"light","text-variant":"dark","header-bg-variant":"dark","header-text-variant":"white"}},[i("input-field",{attrs:{field:e.getField("brand"),state:e.$v.item["brand"]&&e.$v.item["brand"].$dirty?!e.$v.item["brand"].$error:null,error:e.fieldError(e.getField("brand"))},model:{value:e.item.brand,callback:function(t){e.$set(e.item,"brand",t)},expression:"item.brand"}}),i("input-field",{attrs:{field:e.getField("category"),state:e.$v.item["category"]&&e.$v.item["category"].$dirty?!e.$v.item["category"].$error:null,error:e.fieldError(e.getField("category"))},model:{value:e.item.category,callback:function(t){e.$set(e.item,"category",t)},expression:"item.category"}}),i("input-field",{attrs:{field:e.getField("origin"),state:e.$v.item["origin"]&&e.$v.item["origin"].$dirty?!e.$v.item["origin"].$error:null,error:e.fieldError(e.getField("origin"))},model:{value:e.item.origin,callback:function(t){e.$set(e.item,"origin",t)},expression:"item.origin"}}),i("input-field",{attrs:{field:e.getField("promotion"),state:e.$v.item["promotion"]&&e.$v.item["promotion"].$dirty?!e.$v.item["promotion"].$error:null,error:e.fieldError(e.getField("promotion"))},model:{value:e.item.promotion,callback:function(t){e.$set(e.item,"promotion",t)},expression:"item.promotion"}}),i("b-card",{attrs:{header:"Cover","border-variant":"danger"}},[i("b-card-text",{staticClass:"text-muted"},[e._v("Ratio 16:10 (Recommend: 640 x 400 pixels)")]),i("div",{staticClass:"center"},[i("image-input",{attrs:{"aspect-ratio":1.6},model:{value:e.item.cover_photo,callback:function(t){e.$set(e.item,"cover_photo",t)},expression:"item.cover_photo"}})],1)],1),i("b-card",{attrs:{header:"Images","border-variant":"danger"}},[i("b-card-text",{staticClass:"text-muted"},[e._v("Ratio 16:10 (Recommend: 640 x 400 pixels)")]),i("div",{staticClass:"center"},[i("image-multi",{attrs:{limit:10},model:{value:e.list_images,callback:function(t){e.list_images=t},expression:"list_images"}})],1)],1)],1)],1)],1),i("b-row",[i("b-col",{attrs:{lg:"12"}},[i("div",{staticClass:"text-center"},[i("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-5 w-25 mdi mdi-content-save",attrs:{variant:"success",title:"Create"},on:{click:e.checkProduct}}),i("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"w-25 mdi mdi-undo",attrs:{to:{name:"ProductList"},title:"Back"}})],1)])],1)],1):e._e()],1)},a=[],n=(i("7db0"),i("b0c0"),i("5530")),o=i("e993"),s=i("9648"),l=i.n(s),u=i("56a9"),d=i("bc3a"),c=i.n(d),m=i("a2b6"),p=i("67d8"),b=i("b5ae"),f={name:"ProductAdd",mixins:[u["a"],p["a"]],data:function(){return{editor:l.a,editorConfig:{simpleUpload:{uploadUrl:Object(m["a"])("https://worldmart.biz/api","admin/upload/image"),headers:{Authorization:"Bearer "+this.$store.state.auth.token}}},list_images:[],item:{bonus_rating:10,bonus_referral:10,is_new:1,status:2,is_hot:2,is_profit:2,best_seller:2},state:0,fields:o["a"],entry:"crm/product",displayFields:["name","description","meta_title","price","meta_content","image_url","cover_photo","status"]}},mounted:function(){this.item.image_url=[]},methods:{checkProduct:function(){var e=this,t="https://worldmart.biz/api",i=Object(m["a"])(t,"crm/product/check-product");return c.a.get(i,{params:{name:this.item.name}}).then((function(t){400==t.data.code?e.$bvToast.toast(t.data.message,{title:"Error",variant:"danger"}):e.create()}))},beforeCreate:function(){return"string"!==typeof this.list_images&&(this.item.image_url=this.list_images,this.item.image_url=JSON.stringify(this.item.image_url)),this.$v.item.$touch(),!this.$v.item.$anyError},afterCreated:function(e){var t=this;this.item.image_url=JSON.parse(this.item.image_url||"[]"),e&&(this.$bvToast.toast(e.name,{title:"Created",variant:"success"}),setTimeout((function(){t.$router.push({name:"ProductEdit",params:{id:e.id}})}),500))},getField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.fields.find((function(t){return t.key==e}));return i?Object(n["a"])({},i,{},t):null}},validations:{item:{name:{required:b["required"],minLength:Object(b["minLength"])(2),maxLength:Object(b["maxLength"])(255)},price:{required:b["required"],decimal:b["decimal"]},bonus_rating:{required:b["required"],decimal:b["decimal"]},bonus_referral:{required:b["required"],decimal:b["decimal"]}}}},g=f,v=(i("f903"),i("2877")),$=Object(v["a"])(g,r,a,!1,null,null,null);t["default"]=$.exports},"56a9":function(e,t,i){"use strict";i("4de4"),i("7db0"),i("4160"),i("d81d"),i("159b"),i("96cf");var r=i("1da1"),a=i("9c8c");t["a"]={data:function(){return{fields:[],displayFields:[],item:{}}},computed:{addFields:function(){var e=this;return this.displayFields.length?this.displayFields.map((function(t){return e.fields.find((function(e){return e.key===t}))})).filter((function(e){return e})):this.fields.filter((function(e){return!e.readonly}))}},created:function(){var e=this;this.$service=new a["a"](this.entry),this.addFields.forEach((function(t){void 0===e.item[t.key]&&e.$set(e.item,t.key,void 0===t.default?"":t.default)}))},methods:{create:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof e.beforeCreate){t.next=3;break}if(!1!==e.beforeCreate()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.$service.create(e.item);case 5:i=t.sent,"function"===typeof e.afterCreated&&e.afterCreated(i);case 7:case"end":return t.stop()}}),t)})))()}}}},e993:function(e,t,i){"use strict";i("d81d"),i("b0c0"),i("96cf");var r=i("1da1"),a=i("4360"),n=i("aca0");t["a"]=[{key:"id",readonly:!0,sortable:!0},{label:"Image",key:"image_url",type:"image_multi"},{label:"Cover",key:"cover_photo",type:"image"},{label:"Tên sản phẩm",key:"name",sortable:!0},{label:"Thông tin chi tiết",key:"description"},{label:"Mô tả sản phẩm",key:"sub_description"},{label:"Hỏi đáp",key:"question_answer"},{label:"Giá sản phẩm",key:"price",type:"number",sortable:!0},{label:"Tiền tệ",key:"currency",sortable:!0},{label:"Giảm giá (%)",key:"discount",type:"number",sortable:!0},{label:"Số lượng",key:"quota",type:"number",sortable:!0},{label:"Hoa Hồng (%)/Sản phẩm",key:"bonus_rating",type:"number",sortable:!0},{label:"Hoa Hồng người giới thiệu",key:"bonus_referral",type:"number",sortable:!0},{label:"Short Title",key:"meta_title"},{label:"Short Content",key:"meta_content"},{label:"Hướng dẫn sử dụng",key:"usage"},{label:"Xuất xứ",key:"origin",type:"select",sortable:!0,options:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a["a"].state.crm.countries.length){e.next=3;break}return e.next=3,a["a"].dispatch("crm/getCountries");case 3:return e.abrupt("return",n["a"].geoToSelectCountry(a["a"].state.crm.countries));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"category",label:"Category",type:"select",sortable:!0,options:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a["a"].state.crm.category.length){e.next=3;break}return e.next=3,a["a"].dispatch("crm/getCategories");case 3:return e.abrupt("return",a["a"].state.crm.category.map((function(e){return{text:e.name,value:e.id}})));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"brand",label:"Nhãn hàng",type:"select",sortable:!0,options:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a["a"].state.crm.brand.length){e.next=3;break}return e.next=3,a["a"].dispatch("crm/getBrands");case 3:return e.abrupt("return",a["a"].state.crm.brand.map((function(e){return{text:e.name,value:e.id}})));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{label:"Promotion",key:"promotion",type:"select",sortable:!0,options:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a["a"].state.crm.promotion.length){e.next=3;break}return e.next=3,a["a"].dispatch("crm/getPromotions");case 3:return e.abrupt("return",a["a"].state.crm.promotion.map((function(e){return{text:e.name,value:e.id}})));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{label:"Slug",key:"slug",readonly:!0,sortable:!0},{label:"Total Like",key:"total_like",readonly:!0,sortable:!0},{label:"Top Product",key:"is_hot",type:"select",sortable:!0,options:[{value:1,text:"On"},{value:2,text:"Off"}]},{label:"New Product",key:"is_new",type:"select",sortable:!0,options:[{value:1,text:"Yes"},{value:2,text:"No"}]},{label:"Best Selling",key:"best_seller",type:"select",sortable:!0,options:[{value:1,text:"Yes"},{value:2,text:"No"}]},{label:"High Profit",key:"is_profit",type:"select",sortable:!0,options:[{value:1,text:"Yes"},{value:2,text:"No"}]},{label:"Status",key:"status",type:"select",sortable:!0,options:[{value:1,text:"On"},{value:2,text:"Off"}]},{label:"Created Date",key:"created_at",sortable:!0,readonly:!0}]},f903:function(e,t,i){"use strict";var r=i("05ab"),a=i.n(r);a.a}}]);