(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a7fde1a"],{"159b":function(e,t,r){var a=r("da84"),i=r("fdbc"),n=r("17c2"),o=r("9112");for(var s in i){var c=a[s],l=c&&c.prototype;if(l&&l.forEach!==n)try{o(l,"forEach",n)}catch(u){l.forEach=n}}},"17c2":function(e,t,r){"use strict";var a=r("b727").forEach,i=r("a640"),n=r("ae40"),o=i("forEach"),s=n("forEach");e.exports=o&&s?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,r){"use strict";var a=r("23e7"),i=r("17c2");a({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");var a=r("ade3");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"67d8":function(e,t,r){"use strict";r("4de4"),r("d81d"),r("b64b");var a=r("a2b6");t["a"]={methods:{fieldError:function(e){var t=this,r=e.key;if(this.$v.item[r]&&this.$v.item[r].$anyError){var i=Object.keys(this.$v.item[r].$params);return i.filter((function(e){return!1===t.$v.item[r][e]})).map((function(i){return Object(a["b"])(e,i,t.$v.item[r].$params[i])}))[0]}return""}}}},7156:function(e,t,r){var a=r("861d"),i=r("d2bb");e.exports=function(e,t,r){var n,o;return i&&"function"==typeof(n=t.constructor)&&n!==r&&a(o=n.prototype)&&o!==r.prototype&&i(e,o),e}},"7db0":function(e,t,r){"use strict";var a=r("23e7"),i=r("b727").find,n=r("44d2"),o=r("ae40"),s="find",c=!0,l=o(s);s in[]&&Array(1)[s]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!l},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(s)},8545:function(e,t,r){"use strict";r("d81d"),r("b0c0"),r("96cf");var a=r("1da1"),i=r("4360");r("aca0");t["a"]=[{key:"id",readonly:!0},{label:"Image",key:"image_url",type:"image"},{label:"Category Name",key:"name",sortable:!0},{key:"parent_id",label:"Parent Category",type:"select",sortable:!0,options:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i["a"].state.crm.category.length){e.next=3;break}return e.next=3,i["a"].dispatch("crm/getCategories");case 3:return e.abrupt("return",i["a"].state.crm.category.map((function(e){return{text:e.name,value:e.id}})));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{label:"Desciption",key:"description"},{label:"Meta Title",key:"meta_title"},{label:"Meta Content",key:"meta_content"},{label:"Cover",key:"cover_photo",type:"image"},{label:"Slug",key:"slug",readonly:!0,sortable:!0},{label:"Status",key:"status",type:"select",sortable:!0,options:[{value:0,text:"Undefined"},{value:1,text:"On"},{value:2,text:"Off"}]},{label:"Created Date",key:"created_at",sortable:!0,readonly:!0}]},"88f5":function(e,t,r){"use strict";r("4de4"),r("7db0"),r("d81d"),r("a9e3"),r("96cf");var a=r("1da1"),i=r("9c8c");t["a"]={props:{id:{type:[String,Number],required:!0}},data:function(){return{fields:[],displayFields:[],item:null,loading:!1}},computed:{editFields:function(){var e=this;return this.displayFields.map((function(t){return e.fields.find((function(e){return e.key===t}))})).filter((function(e){return e}))}},created:function(){this.$service=new i["a"](this.entry),this.displayFields.length||(this.displayFields=this.fields.map((function(e){return e.key})))},methods:{getData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$service.detail(e.id);case 3:r=t.sent,"function"===typeof e.afterGotData&&e.afterGotData(r),e.item=r,e.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,"function"!==typeof e.beforeSave){t.next=4;break}if(!1!==e.beforeSave()){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$service.update(e.id,e.item).catch((function(t){e.$bvToast.toast(t.response&&t.response.data&&t.response.data.message||t.message,{title:"Error",variant:"danger"})}));case 6:r=t.sent,"function"===typeof e.afterSave&&e.afterSave(r),r&&(e.item=r,e.$bvToast.toast("Item has been updated",{title:"Success",variant:"success"})),e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()},requestDelete:function(){var e=this;this.$bvModal.msgBoxConfirm("Please confirm that you want to delete this item.",{title:"Please Confirm",okVariant:"danger",okTitle:"YES"}).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,e.$service.delete(e.id);case 3:a=t.sent,a?(e.$router.back(),e.$message({message:"This item deleted successful",type:"warning"})):e.$message.error("⚠️☠️⛔ Oops!");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e.message)}))}}}},a9e3:function(e,t,r){"use strict";var a=r("83ab"),i=r("da84"),n=r("94ca"),o=r("6eeb"),s=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),d=r("d039"),f=r("7c73"),m=r("241c").f,p=r("06cf").f,v=r("9bf2").f,b=r("58a8").trim,g="Number",h=i[g],y=h.prototype,$=c(f(y))==g,_=function(e){var t,r,a,i,n,o,s,c,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=b(l),t=l.charCodeAt(0),43===t||45===t){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+l}for(n=l.slice(2),o=n.length,s=0;s<o;s++)if(c=n.charCodeAt(s),c<48||c>i)return NaN;return parseInt(n,a)}return+l};if(n(g,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var k,w=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof w&&($?d((function(){y.valueOf.call(r)})):c(r)!=g)?l(new h(_(t)),r,w):_(t)},O=a?m(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;O.length>x;x++)s(h,k=O[x])&&!s(w,k)&&v(w,k,p(h,k));w.prototype=y,y.constructor=w,o(i,g,w)}},ade3:function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return a}))},b64b:function(e,t,r){var a=r("23e7"),i=r("7b0b"),n=r("df75"),o=r("d039"),s=o((function(){n(1)}));a({target:"Object",stat:!0,forced:s},{keys:function(e){return n(i(e))}})},cdca:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page",[r("page-header",{attrs:{header:"💼 Edit Category"}}),e.item?r("page-body",{staticClass:"p-3"},[r("b-jumbotron",{attrs:{"bg-variant":"white","text-variant":"white","border-variant":"dark"}},[r("b-row",[r("b-col",{attrs:{lg:"12"}},[r("b-card",{attrs:{"bg-variant":"light","text-variant":"dark","header-bg-variant":"dark","header-text-variant":"white"}},[r("input-field",{attrs:{field:e.getField("name"),state:e.$v.item["name"]&&e.$v.item["name"].$dirty?!e.$v.item["name"].$error:null,error:e.fieldError(e.getField("name"))},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),r("input-field",{attrs:{field:e.getField("meta_title"),state:e.$v.item["meta_title"]&&e.$v.item["meta_title"].$dirty?!e.$v.item["meta_title"].$error:null,error:e.fieldError(e.getField("meta_title"))},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),r("input-field",{attrs:{field:e.getField("description"),state:e.$v.item["description"]&&e.$v.item["description"].$dirty?!e.$v.item["description"].$error:null,error:e.fieldError(e.getField("description"))}},[r("b-textarea",{attrs:{rows:"6"},model:{value:e.item.description,callback:function(t){e.$set(e.item,"description",t)},expression:"item.description"}})],1),r("input-field",{attrs:{field:e.getField("meta_content"),state:e.$v.item["meta_content"]&&e.$v.item["meta_content"].$dirty?!e.$v.item["meta_content"].$error:null,error:e.fieldError(e.getField("meta_content"))}},[r("b-textarea",{attrs:{rows:"6"},model:{value:e.item.meta_content,callback:function(t){e.$set(e.item,"meta_content",t)},expression:"item.meta_content"}})],1),r("input-field",{attrs:{field:e.getField("status")},model:{value:e.item.status,callback:function(t){e.$set(e.item,"status",t)},expression:"item.status"}}),r("b-form-group",{attrs:{label:"Parent category"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.item.parent_id,callback:function(t){e.$set(e.item,"parent_id",t)},expression:"item.parent_id"}},e._l(e.listFilterCategories,(function(t){return r("el-option",{key:t.value,attrs:{disabled:t.value==e.item.id,label:t.name,value:t.value}})})),1)],1),r("input-field",{attrs:{field:e.getField("image_url"),state:e.$v.item["image_url"]&&e.$v.item["image_url"].$dirty?!e.$v.item["image_url"].$error:null,error:e.fieldError(e.getField("image_url"))},model:{value:e.item.image_url,callback:function(t){e.$set(e.item,"image_url",t)},expression:"item.image_url"}}),r("input-field",{attrs:{field:e.getField("cover_photo"),state:e.$v.item["cover_photo"]&&e.$v.item["cover_photo"].$dirty?!e.$v.item["cover_photo"].$error:null,error:e.fieldError(e.getField("cover_photo"))},model:{value:e.item.cover_photo,callback:function(t){e.$set(e.item,"cover_photo",t)},expression:"item.cover_photo"}}),r("div",{staticClass:"text-center"},[r("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-5 w-25 mdi mdi-content-save",attrs:{variant:"success",title:"Save"},on:{click:e.save}}),r("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"w-25 mdi mdi-undo",attrs:{to:{name:"CategoryList"},title:"Back"}})],1)],1)],1)],1)],1)],1):e._e()],1)},i=[],n=(r("4de4"),r("7db0"),r("d81d"),r("b0c0"),r("96cf"),r("1da1")),o=r("5530"),s=r("8545"),c=r("4360"),l=r("88f5"),u=r("67d8"),d=r("b5ae"),f={name:"CategoryEdit",mixins:[l["a"],u["a"]],data:function(){return{state:0,fields:s["a"],listCategories:[],entry:"crm/category",displayFields:["name","description","meta_title","meta_content","image_url","cover_photo","status"]}},computed:{listFilterCategories:function(){return this.listCategories.filter((function(e){return!e.parent_id}))}},mounted:function(){this.getData(),this.getCategories()},methods:{beforeSave:function(){return this.$v.item.$touch(),!this.$v.item.$anyError},getField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.fields.find((function(t){return t.key==e}));return r?Object(o["a"])({},r,{},t):null},getCategories:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(c["a"].state.crm.category.length){t.next=3;break}return t.next=3,c["a"].dispatch("crm/getCategories");case 3:e.listCategories=c["a"].state.crm.category.map((function(e){return{name:e.name,value:e.id}}));case 4:case"end":return t.stop()}}),t)})))()}},validations:{item:{name:{required:d["required"],minLength:Object(d["minLength"])(2)}}}},m=f,p=r("2877"),v=Object(p["a"])(m,a,i,!1,null,null,null);t["default"]=v.exports},dbb4:function(e,t,r){var a=r("23e7"),i=r("83ab"),n=r("56ef"),o=r("fc6a"),s=r("06cf"),c=r("8418");a({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,r,a=o(e),i=s.f,l=n(a),u={},d=0;while(l.length>d)r=i(a,t=l[d++]),void 0!==r&&c(u,t,r);return u}})},e439:function(e,t,r){var a=r("23e7"),i=r("d039"),n=r("fc6a"),o=r("06cf").f,s=r("83ab"),c=i((function(){o(1)})),l=!s||c;a({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(n(e),t)}})}}]);