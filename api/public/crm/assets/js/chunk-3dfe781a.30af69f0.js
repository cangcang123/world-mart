(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dfe781a"],{7156:function(e,t,r){var a=r("861d"),n=r("d2bb");e.exports=function(e,t,r){var s,i;return n&&"function"==typeof(s=t.constructor)&&s!==r&&a(i=s.prototype)&&i!==r.prototype&&n(e,i),e}},"7db0":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").find,s=r("44d2"),i=r("ae40"),o="find",d=!0,u=i(o);o in[]&&Array(1)[o]((function(){d=!1})),a({target:"Array",proto:!0,forced:d||!u},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s(o)},"88f5":function(e,t,r){"use strict";r("4de4"),r("7db0"),r("d81d"),r("a9e3"),r("96cf");var a=r("1da1"),n=r("9c8c");t["a"]={props:{id:{type:[String,Number],required:!0}},data:function(){return{fields:[],displayFields:[],item:null,loading:!1}},computed:{editFields:function(){var e=this;return this.displayFields.map((function(t){return e.fields.find((function(e){return e.key===t}))})).filter((function(e){return e}))}},created:function(){this.$service=new n["a"](this.entry),this.displayFields.length||(this.displayFields=this.fields.map((function(e){return e.key})))},methods:{getData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$service.detail(e.id);case 3:r=t.sent,"function"===typeof e.afterGotData&&e.afterGotData(r),e.item=r,e.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,"function"!==typeof e.beforeSave){t.next=4;break}if(!1!==e.beforeSave()){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$service.update(e.id,e.item).catch((function(t){e.$bvToast.toast(t.response&&t.response.data&&t.response.data.message||t.message,{title:"Error",variant:"danger"})}));case 6:r=t.sent,"function"===typeof e.afterSave&&e.afterSave(r),r&&(e.item=r,e.$bvToast.toast("Item has been updated",{title:"Success",variant:"success"})),e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()},requestDelete:function(){var e=this;this.$bvModal.msgBoxConfirm("Please confirm that you want to delete this item.",{title:"Please Confirm",okVariant:"danger",okTitle:"YES"}).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,e.$service.delete(e.id);case 3:a=t.sent,a?(e.$router.back(),e.$message({message:"This item deleted successful",type:"warning"})):e.$message.error("⚠️☠️⛔ Oops!");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e.message)}))}}}},a9e3:function(e,t,r){"use strict";var a=r("83ab"),n=r("da84"),s=r("94ca"),i=r("6eeb"),o=r("5135"),d=r("c6b6"),u=r("7156"),c=r("c04e"),p=r("d039"),l=r("7c73"),f=r("241c").f,m=r("06cf").f,w=r("9bf2").f,h=r("58a8").trim,v="Number",_=n[v],g=_.prototype,b=d(l(g))==v,$=function(e){var t,r,a,n,s,i,o,d,u=c(e,!1);if("string"==typeof u&&u.length>2)if(u=h(u),t=u.charCodeAt(0),43===t||45===t){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+u}for(s=u.slice(2),i=s.length,o=0;o<i;o++)if(d=s.charCodeAt(o),d<48||d>n)return NaN;return parseInt(s,a)}return+u};if(s(v,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var k,y=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof y&&(b?p((function(){g.valueOf.call(r)})):d(r)!=v)?u(new _($(t)),r,y):$(t)},N=a?f(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;N.length>x;x++)o(_,k=N[x])&&!o(y,k)&&w(y,k,m(_,k));y.prototype=g,g.constructor=y,i(n,v,y)}},f505:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page",[r("page-header",[e._v("Đổi mật khẩu")]),e.item?r("div",[r("input-field",{attrs:{value:e.item.full_name,field:{readonly:!0,label:"Full Name"}}}),r("input-field",{attrs:{value:e.item.username,field:{readonly:!0,label:"Username"}}}),r("b-form-group",{attrs:{label:"Mật khẩu Admin"}},[r("b-form-input",{attrs:{id:"admin_password_input",name:"admin_password_input",state:e.$v.admin_password.$dirty?!e.$v.admin_password.$error:null,type:"password",autocomplete:"new-password"},model:{value:e.$v.admin_password.$model,callback:function(t){e.$set(e.$v.admin_password,"$model",t)},expression:"$v.admin_password.$model"}}),r("b-form-invalid-feedback",{attrs:{id:"input_admin_password_feedback"}},[e.$v.admin_password.required?e._e():r("div",[e._v(" Vui lòng nhập mật khẩu ")])])],1),r("b-form-group",{attrs:{label:"Mật khẩu mới"}},[r("b-form-input",{attrs:{id:"new_password_input",name:"new_password_input",state:e.$v.new_password.$dirty?!e.$v.new_password.$error:null,type:"password",autocomplete:"new-password"},model:{value:e.$v.new_password.$model,callback:function(t){e.$set(e.$v.new_password,"$model",t)},expression:"$v.new_password.$model"}}),r("b-form-invalid-feedback",{attrs:{id:"input_new_password_feedback"}},[e.$v.new_password.required?e.$v.new_password.strongPassword?e._e():r("div",[e._v(" Mật khẩu phải có ít nhất 10 ký tự bao gồm chữ hoa, chữ thường, số & ký tự đặc biệt ")]):r("div",[e._v(" Vui lòng nhập mật khẩu ")])])],1),r("b-form-group",{attrs:{label:"Nhập lại mật khẩu mới"}},[r("b-form-input",{attrs:{id:"re_new_password_input",name:"re_new_password_input",state:e.$v.re_new_password.$dirty?!e.$v.re_new_password.$error:null,type:"password",autocomplete:"new-password"},model:{value:e.$v.re_new_password.$model,callback:function(t){e.$set(e.$v.re_new_password,"$model",t)},expression:"$v.re_new_password.$model"}}),r("b-form-invalid-feedback",{attrs:{id:"input_re_new_password_feedback"}},[e.$v.re_new_password.required?e.$v.re_new_password.sameAsPassword?e.$v.re_new_password.strongPassword?e._e():r("div",[e._v(" Mật khẩu phải có ít nhất 10 ký tự bao gồm chữ hoa, chữ thường, số & ký tự đặc biệt ")]):r("div",[e._v(" Mật khẩu chưa trùng khớp ")]):r("div",[e._v(" Vui lòng nhập lại mật khẩu ")])])],1),r("b-button",{on:{click:e.updatePassword}},[e._v("Đổi mật khẩu")])],1):e._e()],1)},n=[],s=(r("96cf"),r("1da1")),i=r("88f5"),o=r("bc3a"),d=r.n(o),u=r("1dce"),c=r("b5ae"),p={name:"AdminUserChangePass",mixins:[i["a"],u["validationMixin"]],data:function(){return{admin_password:"",new_password:"",re_new_password:"",entry:"admin/users"}},validations:{admin_password:{required:c["required"]},new_password:{required:c["required"],strongPassword:function(e){return/[a-z]/.test(e)&&/[A-Z]/.test(e)&&/[0-9]/.test(e)&&/\W|_/.test(e)&&e.length>=10}},re_new_password:{required:c["required"],sameAsPassword:Object(c["sameAs"])("new_password"),strongPassword:function(e){return/[a-z]/.test(e)&&/[A-Z]/.test(e)&&/[0-9]/.test(e)&&/\W|_/.test(e)&&e.length>=10}}},mounted:function(){this.getData()},methods:{afterGotData:function(e){e||(this.$bvToast.toast("User không tồn tại",{title:"Lỗi",variant:"danger"}),this.$router.back())},updatePassword:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.$loading({target:".page-container"}),a=e.$v.$anyError,a){t.next=5;break}return t.next=5,d.a.post(e.$service.buildURL("reset-pass"),{admin_uid:e.admin_uid,uid:e.id,admin_password:e.admin_password,new_password:e.new_password}).then((function(t){t.data.success?(e.$bvToast.toast(t.data.message||"Đã đổi mật khẩu",{title:"Thành công",variant:"success"}),e.resetForm()):e.$bvToast.toast(t.data.message||"Đổi mật khẩu không thành công",{title:"Không thành công",variant:"danger"})})).catch((function(t){e.$bvToast.toast(t.response.data.message||t.message,{title:"Lỗi",variant:"danger"})}));case 5:r.close();case 6:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.admin_password="",this.new_password="",this.re_new_password="",this.$v.$reset()}},watch:{id:function(){this.getData()}}},l=p,f=r("2877"),m=Object(f["a"])(l,a,n,!1,null,null,null);t["default"]=m.exports}}]);