(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9270768"],{"17bb":function(e,t,s){"use strict";s("96cf");var r=s("1da1"),n=s("c7a8"),i=s("4360");t["a"]=[{key:"id",readonly:!0},{label:"Role",key:"role_id",sortable:!0,type:"select",options:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i["a"].state.admin.roles.length){e.next=3;break}return e.next=3,i["a"].dispatch("admin/getRoles");case 3:return e.abrupt("return",n["a"].toSelect(i["a"].state.admin.roles));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resource",sortable:!0,variant:"info"},{key:"permissions",readonly:!0},{label:"Publish",key:"is_publish",type:"select",options:[{value:0,text:"Undefined"},{value:1,text:"Published"},{value:2,text:"Unpublished"}]},{key:"state"},{key:"status",type:"select",options:[{value:0,text:"Undefined"},{value:1,text:"Active"},{value:2,text:"Inactive"}]},{key:"created_at",readonly:!0},{label:"Cập Nhật",key:"modified_at",readonly:!0},{key:"modified_by",readonly:!0}]},7156:function(e,t,s){var r=s("861d"),n=s("d2bb");e.exports=function(e,t,s){var i,a;return n&&"function"==typeof(i=t.constructor)&&i!==s&&r(a=i.prototype)&&a!==s.prototype&&n(e,a),e}},"7db0":function(e,t,s){"use strict";var r=s("23e7"),n=s("b727").find,i=s("44d2"),a=s("ae40"),o="find",c=!0,u=a(o);o in[]&&Array(1)[o]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!u},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},"88f5":function(e,t,s){"use strict";s("4de4"),s("7db0"),s("d81d"),s("a9e3"),s("96cf");var r=s("1da1"),n=s("9c8c");t["a"]={props:{id:{type:[String,Number],required:!0}},data:function(){return{fields:[],displayFields:[],item:null,loading:!1}},computed:{editFields:function(){var e=this;return this.displayFields.map((function(t){return e.fields.find((function(e){return e.key===t}))})).filter((function(e){return e}))}},created:function(){this.$service=new n["a"](this.entry),this.displayFields.length||(this.displayFields=this.fields.map((function(e){return e.key})))},methods:{getData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$service.detail(e.id);case 3:s=t.sent,"function"===typeof e.afterGotData&&e.afterGotData(s),e.item=s,e.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,"function"!==typeof e.beforeSave){t.next=4;break}if(!1!==e.beforeSave()){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$service.update(e.id,e.item).catch((function(t){e.$bvToast.toast(t.response&&t.response.data&&t.response.data.message||t.message,{title:"Error",variant:"danger"})}));case 6:s=t.sent,"function"===typeof e.afterSave&&e.afterSave(s),s&&(e.item=s,e.$bvToast.toast("Item has been updated",{title:"Success",variant:"success"})),e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()},requestDelete:function(){var e=this;this.$bvModal.msgBoxConfirm("Please confirm that you want to delete this item.",{title:"Please Confirm",okVariant:"danger",okTitle:"YES"}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(s){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!s){t.next=5;break}return t.next=3,e.$service.delete(e.id);case 3:r=t.sent,r?(e.$router.back(),e.$message({message:"This item deleted successful",type:"warning"})):e.$message.error("⚠️☠️⛔ Oops!");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e.message)}))}}}},a9e3:function(e,t,s){"use strict";var r=s("83ab"),n=s("da84"),i=s("94ca"),a=s("6eeb"),o=s("5135"),c=s("c6b6"),u=s("7156"),l=s("c04e"),p=s("d039"),m=s("7c73"),d=s("241c").f,f=s("06cf").f,b=s("9bf2").f,h=s("58a8").trim,v="Number",k=n[v],g=k.prototype,y=c(m(g))==v,x=function(e){var t,s,r,n,i,a,o,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=h(u),t=u.charCodeAt(0),43===t||45===t){if(s=u.charCodeAt(2),88===s||120===s)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+u}for(i=u.slice(2),a=i.length,o=0;o<a;o++)if(c=i.charCodeAt(o),c<48||c>n)return NaN;return parseInt(i,r)}return+u};if(i(v,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var w,_=function(e){var t=arguments.length<1?0:e,s=this;return s instanceof _&&(y?p((function(){g.valueOf.call(s)})):c(s)!=v)?u(new k(x(t)),s,_):x(t)},R=r?d(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;R.length>N;N++)o(k,w=R[N])&&!o(_,w)&&b(_,w,f(k,w));_.prototype=g,g.constructor=_,a(n,v,_)}},f376:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("page",{staticClass:"page-add"},[s("page-header",[e._v("Edit Permission Role / Resource")]),e.item?s("div",{staticClass:"bg-white p-3 shadow-sm"},[s("b-form",{staticClass:"submit-form"},[e._l(e.editFields,(function(t,r){return[s("input-field",{key:r,attrs:{field:t},model:{value:e.item[t.key],callback:function(s){e.$set(e.item,t.key,s)},expression:"item[field.key]"}},["resource"===t.key?s("b-form-select",{attrs:{options:e.resources},model:{value:e.item.resource,callback:function(t){e.$set(e.item,"resource",t)},expression:"item.resource"}}):e._e(),"permissions"===t.key?s("b-form-checkbox",{attrs:{switch:""},model:{value:e.permissions.count,callback:function(t){e.$set(e.permissions,"count",t)},expression:"permissions.count"}},[e._v("Count")]):e._e(),"permissions"===t.key?s("b-form-checkbox",{attrs:{switch:""},model:{value:e.permissions.list,callback:function(t){e.$set(e.permissions,"list",t)},expression:"permissions.list"}},[e._v("List")]):e._e(),"permissions"===t.key?s("b-form-checkbox",{attrs:{switch:""},model:{value:e.permissions.create,callback:function(t){e.$set(e.permissions,"create",t)},expression:"permissions.create"}},[e._v("Create")]):e._e(),"permissions"===t.key?s("b-form-checkbox",{attrs:{switch:""},model:{value:e.permissions.detail,callback:function(t){e.$set(e.permissions,"detail",t)},expression:"permissions.detail"}},[e._v("Detail")]):e._e(),"permissions"===t.key?s("b-form-checkbox",{attrs:{switch:""},model:{value:e.permissions.update,callback:function(t){e.$set(e.permissions,"update",t)},expression:"permissions.update"}},[e._v("Update")]):e._e(),"permissions"===t.key?s("b-form-checkbox",{attrs:{switch:""},model:{value:e.permissions.delete,callback:function(t){e.$set(e.permissions,"delete",t)},expression:"permissions.delete"}},[e._v("Delete")]):e._e(),"permissions"===t.key?s("b-form-checkbox",{attrs:{switch:""},model:{value:e.permissions.import,callback:function(t){e.$set(e.permissions,"import",t)},expression:"permissions.import"}},[e._v("Import")]):e._e(),"permissions"===t.key?s("b-form-checkbox",{attrs:{switch:""},model:{value:e.permissions.export,callback:function(t){e.$set(e.permissions,"export",t)},expression:"permissions.export"}},[e._v("Export")]):e._e()],1)]}))],2),s("b-form-group",{staticClass:"submit-form"},[s("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){return t.preventDefault(),e.save(t)}}},[e._v("Save")]),s("b-button",{staticClass:"mdi mdi-arrow-left",attrs:{to:{name:"PermissionRoleList"}}},[e._v("Back")])],1)],1):e._e()],1)},n=[],i=(s("d81d"),s("b0c0"),s("d3b7"),s("ddb0"),s("96cf"),s("1da1")),a=s("17bb"),o=s("88f5"),c=s("9c8c"),u={name:"PermissionRoleEdit",mixins:[o["a"]],data:function(){return{fields:a["a"],packages:[],roles:[],resources:[],permissions:{count:!0,list:!0,create:!0,detail:!0,update:!0,delete:!1,import:!1,export:!1},displayFields:["resource","permissions","is_publish","state","status"],entry:"admin/permission-role"}},mounted:function(){this.getData(),this.getResources()},methods:{afterGotData:function(e){e.permissions?(e.permissions=JSON.parse(e.permissions),this.permissions=e.permissions):e.permissions={count:!0,list:!0,create:!0,detail:!0,update:!0,delete:!1,import:!1,export:!1}},beforeSave:function(){this.item.permissions=JSON.stringify(this.permissions)},afterSave:function(e){this.getData()},getPackages:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=new c["a"]("admin/packages"),t.next=3,s.list();case 3:if(t.t0=t.sent.entries,t.t0){t.next=6;break}t.t0=[];case 6:r=t.t0,e.packages=r.map((function(e){return{value:e.id,text:e.name}}));case 8:case"end":return t.stop()}}),t)})))()},getRoles:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=new c["a"]("admin/roles"),t.next=3,s.list();case 3:if(t.t0=t.sent.entries,t.t0){t.next=6;break}t.t0=[];case 6:r=t.t0,e.roles=r.map((function(e){return{value:e.id,text:e.name}}));case 8:case"end":return t.stop()}}),t)})))()},getResources:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=new c["a"]("admin/resources"),t.next=3,s.list({limit:100});case 3:if(t.t0=t.sent.entries,t.t0){t.next=6;break}t.t0=[];case 6:r=t.t0,e.resources=r.map((function(e){return{value:e.name,text:e.name}}));case 8:case"end":return t.stop()}}),t)})))()}},watch:{}},l=u,p=s("2877"),m=Object(p["a"])(l,r,n,!1,null,null,null);t["default"]=m.exports}}]);